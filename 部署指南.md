# DTS-SHOP ç”µå•†é¡¹ç›® - æ–°ç”µè„‘éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ä¸€ã€æ‰€éœ€è½¯ä»¶æ¸…å•

### 1. å¿…è£…è½¯ä»¶ï¼ˆæŒ‰é¡ºåºå®‰è£…ï¼‰

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ä¸‹è½½åœ°å€ |
|------|---------|---------|
| JDK | **1.8 (Java 8)** | https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html |
| Maven | 3.6+ | https://maven.apache.org/download.cgi |
| Node.js | 14.x - 20.xï¼ˆæ¨èLTSï¼‰ | https://nodejs.org/zh-cn/ |
| MySQL | 5.7 æˆ– 8.0 | https://dev.mysql.com/downloads/mysql/ |
| å¾®ä¿¡å¼€å‘è€…å·¥å…· | æœ€æ–°ç‰ˆ | https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html |

### 2. å¯é€‰è½¯ä»¶
- Git (ç‰ˆæœ¬æ§åˆ¶)
- IntelliJ IDEA (Javaå¼€å‘IDE)
- VS Code (å‰ç«¯ä»£ç ç¼–è¾‘)
- Navicat (æ•°æ®åº“ç®¡ç†)

---

## ğŸš€ äºŒã€éƒ¨ç½²æ­¥éª¤

### Step 1: å®‰è£…ç¯å¢ƒè½¯ä»¶

#### 1.1 å®‰è£… JDK 1.8
```bash
# ä¸‹è½½å®‰è£…åé…ç½®ç¯å¢ƒå˜é‡
JAVA_HOME = C:\Program Files\Java\jdk1.8.0_xxx
Path æ·»åŠ  = %JAVA_HOME%\bin

# éªŒè¯
java -version
# åº”æ˜¾ç¤ºï¼šjava version "1.8.0_xxx"
```

#### 1.2 å®‰è£… Maven
```bash
# è§£å‹åé…ç½®ç¯å¢ƒå˜é‡
MAVEN_HOME = D:\software\maven\apache-maven-3.8.1
Path æ·»åŠ  = %MAVEN_HOME%\bin

# éªŒè¯
mvn -version

# é…ç½®å›½å†…é•œåƒï¼ˆåŠ é€Ÿï¼‰
# ç¼–è¾‘ %MAVEN_HOME%\conf\settings.xml
# åœ¨ <mirrors> æ ‡ç­¾ä¸­æ·»åŠ ï¼š
<mirror>
  <id>aliyun</id>
  <mirrorOf>central</mirrorOf>
  <name>Aliyun Maven</name>
  <url>https://maven.aliyun.com/repository/public</url>
</mirror>
```

#### 1.3 å®‰è£… Node.js
```bash
# ä¸‹è½½å®‰è£…å³å¯ï¼Œä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡

# éªŒè¯
node -v
npm -v

# é…ç½®npmå›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com
```

#### 1.4 å®‰è£… MySQL
```bash
# å®‰è£…åè®¾ç½®rootå¯†ç ï¼Œä¾‹å¦‚ï¼š123456
# å¯åŠ¨MySQLæœåŠ¡

# éªŒè¯
mysql -u root -p
```

---

### Step 2: è¿ç§»é¡¹ç›®æ–‡ä»¶

#### æ–¹æ¡ˆAï¼šä½¿ç”¨Gitï¼ˆæ¨èï¼‰
```bash
# åœ¨åŸç”µè„‘
cd dts-shopç›®å½•
git init
git add .
git commit -m "é¡¹ç›®åˆå§‹åŒ–"
# æ¨é€åˆ°GitHub/Gitee

# åœ¨æ–°ç”µè„‘
git clone <ä»“åº“åœ°å€>
```

#### æ–¹æ¡ˆBï¼šç›´æ¥æ‹·è´
```bash
# å‹ç¼© dts-shop æ•´ä¸ªç›®å½•
# æ‹·è´åˆ°æ–°ç”µè„‘è§£å‹

# å»ºè®®æ‰“åŒ…å‰åˆ é™¤ï¼ˆå‡å°ä½“ç§¯ï¼‰ï¼š
# - admin-ui/node_modules/
# - dts-*/target/
# - logs/*.log
```

---

### Step 3: é…ç½®æ•°æ®åº“

```bash
# 1. ç™»å½•MySQL
mysql -u root -p

# 2. åˆ›å»ºæ•°æ®åº“
CREATE DATABASE shop CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;

# 3. é€€å‡ºMySQLï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
mysql -u root -p shop < shop.sql

# 4. éªŒè¯
mysql -u root -p
USE shop;
SHOW TABLES;
# åº”æ˜¾ç¤º37å¼ è¡¨
```

---

### Step 4: ä¿®æ”¹é…ç½®æ–‡ä»¶

#### 4.1 ä¿®æ”¹æ•°æ®åº“å¯†ç 
**æ–‡ä»¶è·¯å¾„ï¼š** `dts-core/src/main/resources/application-dev.yml` (ç¬¬146è¡Œ)

```yaml
spring:
  datasource:
    druid:
      username: root
      password: 123456  # â† æ”¹æˆä½ çš„MySQLå¯†ç 
```

#### 4.2 ä¿®æ”¹å­˜å‚¨è·¯å¾„
**åŒæ–‡ä»¶ï¼š** (ç¬¬111è¡Œ å’Œ ç¬¬162è¡Œ)

```yaml
dts:
  storage:
    local:
      storagePath: D:\\my-storage  # â† æ ¹æ®éœ€è¦ä¿®æ”¹

spring:
  servlet:
    multipart:
      location: D:/my-storage/upload/  # â† æ ¹æ®éœ€è¦ä¿®æ”¹
```

**åˆ›å»ºå¯¹åº”ç›®å½•ï¼š**
```bash
mkdir D:\my-storage
mkdir D:\my-storage\upload
```

#### 4.3 ï¼ˆå¯é€‰ï¼‰ä¿®æ”¹å°ç¨‹åºAPIåœ°å€
**æ–‡ä»¶è·¯å¾„ï¼š** `wx-mini-program/config/api.js` (ç¬¬2è¡Œ)

```javascript
// æœ¬åœ°å¼€å‘
var WxApiRoot = 'http://localhost:8080/wx/';

// å¦‚éœ€çœŸæœºè°ƒè¯•ï¼Œæ”¹ä¸ºæ–°ç”µè„‘å†…ç½‘IP
// var WxApiRoot = 'http://192.168.x.x:8080/wx/';
```

æŸ¥çœ‹æœ¬æœºIPï¼š`ipconfig` æ‰¾åˆ° IPv4 åœ°å€

---

### Step 5: ç¼–è¯‘å’Œå¯åŠ¨

#### 5.1 ç¼–è¯‘åç«¯ï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd dts-shop
mvn clean install -DskipTests

# ç¼–è¯‘æ—¶é—´ï¼š5-10åˆ†é’Ÿï¼ˆé¦–æ¬¡ä¼šä¸‹è½½ä¾èµ–ï¼‰
```

#### 5.2 å¯åŠ¨åç«¯æœåŠ¡
```bash
# å¯åŠ¨ç®¡ç†åå°APIï¼ˆç«¯å£8083ï¼‰
java -jar dts-admin-api/target/dts-admin-api-0.0.1-SNAPSHOT-exec.jar --spring.profiles.active=dev

# æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£
# å¯åŠ¨å°ç¨‹åºAPIï¼ˆç«¯å£8080ï¼‰
java -jar dts-wx-api/target/dts-wx-api-0.0.1-SNAPSHOT-exec.jar --spring.profiles.active=dev
```

**çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š**
```
Started Application in x.xxx seconds
```

#### 5.3 å¯åŠ¨å‰ç«¯ç®¡ç†ç•Œé¢
```bash
# æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£
cd admin-ui

# é¦–æ¬¡éœ€è¦å®‰è£…ä¾èµ–ï¼ˆçº¦5åˆ†é’Ÿï¼‰
npm install

# å¯åŠ¨å‰ç«¯ï¼ˆç«¯å£9527ï¼‰
npm run dev
```

**çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š**
```
App running at:
- Local:   http://localhost:9527
```

#### 5.4 å¯åŠ¨å°ç¨‹åº
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. é€‰æ‹©"å¯¼å…¥é¡¹ç›®"
3. é¡¹ç›®ç›®å½•ï¼šé€‰æ‹© `wx-mini-program` æ–‡ä»¶å¤¹
4. AppIDï¼š`wxa0a35dc9af3f7794`ï¼ˆæµ‹è¯•å·ï¼‰
5. ç‚¹å‡»"è¯¦æƒ…" â†’ å‹¾é€‰"ä¸æ ¡éªŒåˆæ³•åŸŸå..."
6. ç‚¹å‡»"ç¼–è¯‘"å³å¯è¿è¡Œ

---

## ğŸ¯ ä¸‰ã€éªŒè¯éƒ¨ç½²æˆåŠŸ

### 1. åç«¯éªŒè¯
```bash
# ç®¡ç†åå°API
curl http://localhost:8083

# å°ç¨‹åºAPI
curl http://localhost:8080
```

### 2. å‰ç«¯éªŒè¯
- æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:9527
- é»˜è®¤è´¦å·ï¼šadmin123 / admin123

### 3. å°ç¨‹åºéªŒè¯
- å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­èƒ½çœ‹åˆ°é¦–é¡µå³æˆåŠŸ

---

## ğŸ“¦ å››ã€ä¸€é”®å¯åŠ¨è„šæœ¬

### æ–¹æ¡ˆAï¼šä½¿ç”¨å·²æœ‰çš„æ‰¹å¤„ç†æ–‡ä»¶

#### build.batï¼ˆç¼–è¯‘é¡¹ç›®ï¼‰
```batch
@echo off
set JAVA_HOME=C:\Program Files\Java\jdk-1.8
set PATH=%JAVA_HOME%\bin;%PATH%
mvn clean install -DskipTests
```

#### start-admin-api.batï¼ˆå¯åŠ¨ç®¡ç†åå°ï¼‰
```batch
@echo off
set JAVA_HOME=C:\Program Files\Java\jdk-1.8
set PATH=%JAVA_HOME%\bin;%PATH%
java -jar dts-admin-api/target/dts-admin-api-0.0.1-SNAPSHOT-exec.jar --spring.profiles.active=dev
pause
```

#### start-wx-api.batï¼ˆå¯åŠ¨å°ç¨‹åºåç«¯ï¼‰
```batch
@echo off
set JAVA_HOME=C:\Program Files\Java\jdk-1.8
set PATH=%JAVA_HOME%\bin;%PATH%
java -jar dts-wx-api/target/dts-wx-api-0.0.1-SNAPSHOT-exec.jar --spring.profiles.active=dev
pause
```

#### start-admin-ui.batï¼ˆå¯åŠ¨ç®¡ç†å‰ç«¯ï¼‰
```batch
@echo off
cd admin-ui
npm run dev
```

### ä½¿ç”¨æ–¹æ³•ï¼š
1. åŒå‡» `build.bat` ç¼–è¯‘é¡¹ç›®ï¼ˆé¦–æ¬¡å¿…é¡»ï¼‰
2. åŒå‡» `start-admin-api.bat` å¯åŠ¨ç®¡ç†åå°
3. åŒå‡» `start-wx-api.bat` å¯åŠ¨å°ç¨‹åºåç«¯
4. åŒå‡» `start-admin-ui.bat` å¯åŠ¨ç®¡ç†å‰ç«¯
5. ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€ `wx-mini-program` æ–‡ä»¶å¤¹

---

## âš ï¸ äº”ã€å¸¸è§é—®é¢˜

### 1. ç¼–è¯‘å¤±è´¥
```bash
# é—®é¢˜ï¼šæ‰¾ä¸åˆ° JAVA_HOME
# è§£å†³ï¼šç¡®ä¿ JAVA_HOME ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®

# é—®é¢˜ï¼šMavenä¸‹è½½ä¾èµ–æ…¢
# è§£å†³ï¼šé…ç½®Mavenå›½å†…é•œåƒï¼ˆè§ä¸Šæ–¹ï¼‰

# é—®é¢˜ï¼šç«¯å£è¢«å ç”¨
# è§£å†³ï¼šä¿®æ”¹ application.yml ä¸­çš„ server.port
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# é—®é¢˜ï¼šAccess denied for user 'root'
# è§£å†³ï¼šæ£€æŸ¥ application-dev.yml ä¸­çš„å¯†ç æ˜¯å¦æ­£ç¡®

# é—®é¢˜ï¼šUnknown database 'shop'
# è§£å†³ï¼šç¡®ä¿å·²åˆ›å»º shop æ•°æ®åº“å¹¶å¯¼å…¥æ•°æ®
```

### 3. å‰ç«¯å¯åŠ¨å¤±è´¥
```bash
# é—®é¢˜ï¼šnpm install å¤±è´¥
# è§£å†³ï¼šåˆ é™¤ node_modules å’Œ package-lock.jsonï¼Œé‡æ–°å®‰è£…

# é—®é¢˜ï¼šç«¯å£9527è¢«å ç”¨
# è§£å†³ï¼šä¿®æ”¹ admin-ui/vue.config.js ä¸­çš„ç«¯å£
```

### 4. å°ç¨‹åºæ— æ³•è¯·æ±‚åç«¯
```bash
# é—®é¢˜ï¼šrequest:fail
# è§£å†³ï¼š
# 1. ç¡®ä¿ wx-api å·²å¯åŠ¨ï¼ˆ8080ç«¯å£ï¼‰
# 2. å¾®ä¿¡å¼€å‘è€…å·¥å…·å‹¾é€‰"ä¸æ ¡éªŒåˆæ³•åŸŸå"
# 3. æ£€æŸ¥ config/api.js ä¸­çš„åœ°å€æ˜¯å¦æ­£ç¡®
```

---

## ğŸ“ å…­ã€æŠ€æœ¯æ ˆè¯´æ˜

- **åç«¯**ï¼šSpring Boot 2.0.4 + MyBatis + Shiro
- **å‰ç«¯**ï¼šVue 2.6 + Element UI 2.15
- **å°ç¨‹åº**ï¼šåŸç”Ÿå¾®ä¿¡å°ç¨‹åº
- **æ•°æ®åº“**ï¼šMySQL 5.7/8.0
- **æ„å»ºå·¥å…·**ï¼šMaven 3.8+ / npm 10+

---

## ğŸ”— ä¸ƒã€ç›¸å…³é“¾æ¥

- [JDK 8 ä¸‹è½½](https://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html)
- [Maven ä¸‹è½½](https://maven.apache.org/download.cgi)
- [Node.js ä¸‹è½½](https://nodejs.org/zh-cn/)
- [MySQL ä¸‹è½½](https://dev.mysql.com/downloads/mysql/)
- [å¾®ä¿¡å¼€å‘è€…å·¥å…·](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)

---

**éƒ¨ç½²å®Œæˆåï¼Œä½ å°†æ‹¥æœ‰ï¼š**
- âœ… ç®¡ç†åå°ï¼šhttp://localhost:9527
- âœ… å°ç¨‹åºåç«¯ï¼šhttp://localhost:8080
- âœ… ç®¡ç†åå°åç«¯ï¼šhttp://localhost:8083
- âœ… å¾®ä¿¡å°ç¨‹åºï¼šåœ¨å¼€å‘è€…å·¥å…·ä¸­è¿è¡Œ
